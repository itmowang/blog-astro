---
const { title,heroImage } = Astro.props;
import { config } from "@/theme-simple/config";
const {site} = config
const {func}  = config
const url = Astro.url

---

<div class="postShare">
    <div>
        <div class="postShare-List" >
            分享本文 :
            <a href={`http://service.weibo.com/share/share.php?url=${url}&title=${title} - ${site.title}&pic=${heroImage}`}  target="_blank"> <i class={`iconfont icon-xinlang`} style={`color:#ff763b`}></i></a>
            <a  id="wechatIcon" > <i class={`iconfont icon-weichat`} style={`color:#33b045`} ></i></a>
            <a href={`https://connect.qq.com/widget/shareqq/index.html?url=${url}&title=${title} - ${site.title}&source=${title} - ${site.title}&desc=${site.description}&pics=${heroImage}`} target="_blank"> <i class={`iconfont icon-QQ`} style={`color:#56b6e7`}></i></a>
            <a href={``} target="_blank"> <i class={`iconfont icon-facebook`} style={`color:#44619D`}></i></a>
            <a href={``} target="_blank"> <i class={`iconfont icon-fenxiang1`} style={`color:#33b045`}></i></a>
        </div>
    </div>
</div>

<div class="modal" id="wechatModal">
    分享到wx
    <button onclick="closeWechatModal()">Close</button>
</div>

<script>
    const wechatIcon = document.getElementById('wechatIcon');
    const wechatModal = document.getElementById('wechatModal');

    // Function to open the WeChat modal
    function openWechatModal() {
        wechatModal && (wechatModal.style.display = 'block');
    }

    // Function to close the WeChat modal
    function closeWechatModal() {
        wechatModal && (wechatModal.style.display = 'none');
    }

    // Add a click event listener to the WeChat icon
    wechatIcon && wechatIcon.addEventListener('click', openWechatModal);

    // Add a click event listener to close the modal if clicked outside of it
    window.addEventListener('click', function(event) {
        if (event.target === wechatModal) {
            closeWechatModal();
        }
    });
</script>